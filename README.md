<div align="center">

# ğŸ§  æ™ºèƒ½LLMåˆ¤æ–­ (Smart Judge)

[![AstrBot](https://img.shields.io/badge/AstrBot-Plugin-purple)](https://github.com/Soulter/AstrBot)
[![License](https://img.shields.io/badge/license-MIT-green)](./LICENSE)
[![Python](https://img.shields.io/badge/python-3.8+-blue)](https://www.python.org/)

**è®©æ¯ä¸€åˆ†Tokenéƒ½èŠ±åœ¨åˆ€åˆƒä¸Š**

æ™ºèƒ½åˆ†æç”¨æˆ·æ„å›¾ â€¢ åŠ¨æ€è·¯ç”±æ¨¡å‹ â€¢ é™ä½APIæˆæœ¬ â€¢ æå‡å“åº”é€Ÿåº¦

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ§  æ™ºèƒ½åˆ†æµ**ï¼šè‡ªåŠ¨è¯†åˆ«"å¼±æ™º"é—®é¢˜ä¸"çƒ§è„‘"é—®é¢˜ï¼Œåˆ†åˆ«è·¯ç”±è‡³å¿«é€Ÿæ¨¡å‹æˆ–é«˜æ™ºå•†æ¨¡å‹ã€‚
- **âš–ï¸ è´Ÿè½½å‡è¡¡**ï¼šæ”¯æŒé…ç½®å¤šä¸ªé«˜æ™ºå•†æ¨¡å‹æä¾›å•†ï¼Œéšæœº/è½®è¯¢è°ƒç”¨ï¼Œé¿å…å•ç‚¹æ•…éšœã€‚
- **ğŸ›¡ï¸ è§„åˆ™å…œåº•**ï¼šå½“åˆ¤æ–­æ¨¡å‹ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨é™çº§ä¸ºå…³é”®è¯/æ­£åˆ™åŒ¹é…æ¨¡å¼ã€‚
- **ğŸ’° é¢„ç®—æ§åˆ¶**ï¼šå†…ç½®æ¯æ—¥/æ¯æœˆé¢„ç®—é™åˆ¶ï¼Œé˜²æ­¢Tokenè¶…æ”¯ã€‚
- **ğŸ“ ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šæ”¯æŒæºå¸¦èŠå¤©è®°å½•è¿›è¡Œåˆ¤æ–­ï¼Œç†è§£æ›´ç²¾å‡†ã€‚
- **âš¡ é«˜æ•ˆç¼“å­˜**ï¼šè‡ªåŠ¨ç¼“å­˜ç›¸ä¼¼é—®é¢˜çš„åˆ¤æ–­ç»“æœï¼Œå‡å°‘é‡å¤å¼€é”€ã€‚

## ğŸ› ï¸ æŒ‡ä»¤åˆ—è¡¨

æ’ä»¶å®‰è£…åå³å¯è‡ªåŠ¨ç”Ÿæ•ˆã€‚ä»¥ä¸‹ä¸ºç®¡ç†å‘˜ç®¡ç†æŒ‡ä»¤ï¼š

| æŒ‡ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `/judge status` | æŸ¥çœ‹å½“å‰ç»Ÿè®¡ä¸çŠ¶æ€ | `/judge status` |
| `/judge on` | å¼€å¯æ’ä»¶ | `/judge on` |
| `/judge off` | å…³é—­æ’ä»¶ | `/judge off` |
| `/judge clean` | æ¸…ç†æ‰€æœ‰ç¼“å­˜ | `/judge clean` |
| `/judge reload` | é‡è½½é…ç½®æ–‡ä»¶ | `/judge reload` |
| `/judge debug` | åˆ‡æ¢è°ƒè¯•æ¨¡å¼ | `/judge debug` |

> ğŸ’¡ **æç¤º**ï¼šæ™®é€šç”¨æˆ·æ— éœ€è¾“å…¥ä»»ä½•æŒ‡ä»¤ï¼Œæ­£å¸¸å¯¹è¯å³å¯äº«å—æ™ºèƒ½è·¯ç”±æœåŠ¡ã€‚

## âš™ï¸ é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½äº `data/plugins/astrbot_plugin_judge/config.json`ã€‚

### æ ¸å¿ƒé…ç½®

| é…ç½®é¡¹ | è¯´æ˜ | æ¨èå€¼ |
| :--- | :--- | :--- |
| `judge_provider` | **[å¿…å¡«]** ç”¨äºåˆ¤æ–­æ„å›¾çš„æ¨¡å‹ID | `gpt-4o-mini`, `gemini-1.5-flash` |
| `high_iq_providers` | **[å¿…å¡«]** é«˜æ™ºå•†æ¨¡å‹æä¾›å•†åˆ—è¡¨ | `openai`, `anthropic` |
| `fast_providers` | **[å¿…å¡«]** å¿«é€Ÿæ¨¡å‹æä¾›å•†åˆ—è¡¨ | `openai`, `google` |
| `complexity_threshold` | è§¦å‘é«˜æ™ºå•†æ¨¡å‹çš„å¤æ‚åº¦é˜ˆå€¼ (1-10) | `7` |

### é«˜çº§åŠŸèƒ½

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
| :--- | :--- | :--- |
| `enable_random_high_iq` | æ˜¯å¦åœ¨å¤šä¸ªé«˜æ™ºå•†æ¨¡å‹é—´éšæœºé€‰æ‹© | `true` |
| `max_budget_daily` | æ¯æ—¥é¢„ç®—ä¸Šé™ (USD) | `1.0` |
| `cache_ttl` | åˆ¤æ–­ç»“æœç¼“å­˜æ—¶é—´ (ç§’) | `3600` |

## â“ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ’ä»¶æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ**
> A: è¯·ç¡®ä¿ `/judge status` æ˜¾ç¤ºä¸º "è¿è¡Œä¸­"ï¼Œå¹¶æ£€æŸ¥ `judge_provider` æ˜¯å¦é…ç½®äº†æœ‰æ•ˆçš„æ¨¡å‹IDã€‚

**Q: å¦‚ä½•è‡ªå®šä¹‰åˆ¤æ–­é€»è¾‘ï¼Ÿ**
> A: æ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ `judge_prompt`ï¼Œè°ƒæ•´AIçš„åˆ¤æ–­æ ‡å‡†ã€‚

**Q: é¢„ç®—è€—å°½äº†æ€ä¹ˆåŠï¼Ÿ**
> A: æ’ä»¶ä¼šè‡ªåŠ¨åœæ­¢è°ƒç”¨é«˜æ™ºå•†æ¨¡å‹ï¼Œè½¬ä¸ºä½¿ç”¨å¿«é€Ÿæ¨¡å‹æˆ–é»˜è®¤å›å¤ã€‚å¯ä»¥é€šè¿‡ `/judge reload` é‡ç½®ï¼ˆå¦‚æœä¿®æ”¹äº†é™é¢ï¼‰ã€‚

---

<div align="center">
Made with â¤ï¸ for AstrBot
</div>
